webpackJsonp([9],{CoeI:function(e,s){},SjFi:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={data:function(){return{tableData:[],dialogFormVisible:!1,totalAll:0,userListForm:{userAddress:"",userAlias:"",userHelp:""},userListFormRules:{userAddress:[{required:!0,message:this.$t("message.c116"),trigger:"blur"},{min:10,max:35,message:this.$t("message.c117"),trigger:"blur"}]}}},components:{Back:t("LPk9").a},mounted:function(){var e=this;this.openDB(),this.getUserList(1,15);var s=!1;setInterval(function(){s=e.dialogFormVisible},500),document.onkeydown=function(e){13===window.event.keyCode&&s&&document.getElementById("userList").click()}},methods:{openDB:function(){indexedDB.open("usersDB",1).onupgradeneeded=function(e){var s=e.target.result;if(!s.objectStoreNames.contains("usersDB"))s.createObjectStore("addressList",{keyPath:"userAddress",autoIncrement:!1})}},addUserAccount:function(e){var s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t=indexedDB.open("usersDB",1),r={userAddress:s.userListForm.userAddress,userAlias:s.userListForm.userAlias,userHelp:s.userListForm.userHelp};t.onsuccess=function(e){e.target.result.transaction("addressList","readwrite").objectStore("addressList").put(r)},s.getUserList(1,15),s.userListForm.userAddress="",s.userListForm.userHelp="",s.dialogFormVisible=!1})},getUserList:function(e,s){var t=this,r=[];indexedDB.open("usersDB",1).onsuccess=function(e){e.target.result.transaction("addressList","readonly").objectStore("addressList").openCursor().onsuccess=function(e){var s=e.target.result;s&&(r.push(s.value),s.continue())}},setTimeout(function(){t.totalAll=r.length,t.tableData=1===e?r.slice(0,s):r.slice(15*(e-1),15*e)},50)},consensusSize:function(e){this.getUserList(e,15)},toNewAccount:function(){this.dialogFormVisible=!0,this.userListForm.userAddress="",this.userListForm.userAlias="",this.userListForm.userHelp=""},editorRow:function(e,s,t){this.dialogFormVisible=!0,this.userListForm.userAddress=e,this.userListForm.userAlias=s,this.userListForm.userHelp=t},deleteRow:function(e){var s=this;this.$confirm(this.$t("message.c115"),this.$t("message.c86"),{confirmButtonText:this.$t("message.confirmButtonText"),cancelButtonText:this.$t("message.cancelButtonText")}).then(function(){indexedDB.open("usersDB",1).onsuccess=function(s){s.target.result.transaction("addressList","readwrite").objectStore("addressList").delete(e)},s.getUserList(1,15),s.$message({type:"success",message:s.$t("message.passWordSuccess")})}).catch(function(){})},userListClose:function(){this.$refs.userListForm.resetFields()}}},i={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"users"},[t("Back",{attrs:{backTitle:this.$t("message.setManagement")}}),e._v(" "),t("div",{staticClass:"users-conter"},[t("h2",[e._v(e._s(e.$t("message.c93")))]),e._v(" "),t("el-button",{staticClass:"newAccount",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(s){e.toNewAccount()}}}),e._v(" "),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"userAddress",label:e.$t("message.c69"),"min-width":"288",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userHelp",label:e.$t("message.remarks"),width:"180",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("message.operation"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.editorRow(s.row.userAddress,s.row.userAlias,s.row.userHelp)}}},[e._v("\n            "+e._s(e.$t("message.c94"))+"\n          ")]),e._v(" "),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.deleteRow(s.row.userAddress)}}},[e._v("\n            "+e._s(e.$t("message.c95"))+"\n          ")])]}}])})],1),e._v(" "),t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalAllOk=this.totalAll>15,expression:"totalAllOk = this.totalAll>15 ?true:false"}],staticClass:"cb",attrs:{layout:"prev, pager, next","page-size":15,total:this.totalAll},on:{"current-change":e.consensusSize}})],1),e._v(" "),t("el-dialog",{attrs:{title:e.$t("message.c96"),visible:e.dialogFormVisible,top:"24vh"},on:{"update:visible":function(s){e.dialogFormVisible=s},close:e.userListClose}},[t("el-form",{ref:"userListForm",attrs:{model:e.userListForm,rules:e.userListFormRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:e.$t("message.c69"),prop:"userAddress"}},[t("el-input",{attrs:{maxlength:35},model:{value:e.userListForm.userAddress,callback:function(s){e.$set(e.userListForm,"userAddress",s)},expression:"userListForm.userAddress"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.remarks")}},[t("el-input",{attrs:{maxlength:20},model:{value:e.userListForm.userHelp,callback:function(s){e.$set(e.userListForm,"userHelp",s)},expression:"userListForm.userHelp"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",id:"userList"},on:{click:function(s){e.addUserAccount("userListForm")}}},[e._v("\n        "+e._s(e.$t("message.confirmButtonText"))+"\n      ")])],1)],1)],1)},staticRenderFns:[]};var o=t("VU/8")(r,i,!1,function(e){t("CoeI")},null,null);s.default=o.exports}});
//# sourceMappingURL=9.90e0711376cb23d5fa80.js.map